<div class="page-wrapper" style="min-height: 283px">
  <!-- Page Content -->
  <div class="content container-fluid">
    <!-- Page Header -->
    <div class="page-header">
      <div class="row align-items-center">
        <div class="col">
          <ul class="breadcrumb">
            <li class="breadcrumb-item">
              <a href="javascript:void(0)">Dashboard</a>
            </li>
            <li class="breadcrumb-item">Project</li>
            <li class="breadcrumb-item active">
              Edit
              <span *ngIf="project?.projectName"
                >: {{ project.projectName }}
              </span>
            </li>
          </ul>
        </div>
        <div class="col-auto float-right ml-auto">
          <a
            href="javascript:void(0)"
            [routerLink]="['/admin/projects/project/view']"
            [state]="{ projectDetailsId: projectDetailsId }"
            class="btn add-btn"
            ><i class="fa fa-long-arrow-left"></i> Back to view</a
          >
        </div>
      </div>
    </div>
    <!-- /Page Header -->
    <div>
      <p-tabView (onChange)="handleChange($event)" [(activeIndex)]="tabIndex">
        <p-tabPanel header="Project Details" leftIcon="fa fa-cubes">
          <ng-template pTemplate="content">
            <div class="pt-2">
              <form #f="ngForm">
                <section>
                  <div class="row">
                    <div class="col-sm-6" style="color: red">
                      {{ errLabel }}
                    </div>
                  </div>
                </section>
                <section>
                  <div class="row">
                    <div class="col-sm-12">
                      <div class="card">
                        <div class="card-body">
                          <div class="row">
                            <div class="col-sm-6">
                              <div class="form-group">
                                <label class="col-form-label"
                                  >Project Name<span class="text-danger">
                                    *</span
                                  ></label
                                >
                                <input
                                  pInputText
                                  class="form-control"
                                  (blur)="checkProjectAlreadyExist(f)"
                                  name="projectName"
                                  [(ngModel)]="project.projectName"
                                  placeholder=""
                                  type="text"
                                  maxlength="150"
                                  required
                                  (keypress)="
                                    sharedService.keyPressProject_SupplierName(
                                      $event
                                    )
                                  "
                                />
                              </div>
                            </div>
                            <div class="col-sm-3">
                              <div class="form-group">
                                <label class="col-form-label"
                                  >Start Date<span class="text-danger">
                                    *</span
                                  ></label
                                >
                                <p-calendar
                                  #minimumDate
                                  [yearNavigator]="true"
                                  [monthNavigator]="true"
                                  yearRange="1980:2050"
                                  readonlyInput="true"
                                  name="startDate"
                                  [(ngModel)]="project.startDate"
                                  showIcon="true"
                                  dateFormat="mm-dd-yy"
                                  dataType="string"
                                  required
                                ></p-calendar>
                              </div>
                            </div>
                            <div class="col-sm-3">
                              <div class="form-group">
                                <label class="col-form-label">End Date</label>
                                <p-calendar
                                  [yearNavigator]="true"
                                  [monthNavigator]="true"
                                  yearRange="1980:2050"
                                  readonlyInput="true"
                                  [minDate]="minimumDate.value"
                                  name="endDate"
                                  [(ngModel)]="project.endDate"
                                  showIcon="true"
                                  dateFormat="mm-dd-yy"
                                  dataType="string"
                                ></p-calendar>
                              </div>
                            </div>
                            <div class="col-sm-12">
                              <div class="form-group">
                                <label class="col-form-label"
                                  >Description
                                </label>
                                <textarea
                                  class="form-control"
                                  [(ngModel)]="project.description"
                                  name="desc"
                                  placeholder="Enter Your description here..."
                                  maxlength="2500"
                                  [rows]="5"
                                  (keypress)="
                                    sharedService.keyPressAddress($event)
                                  "
                                >
                                </textarea>
                              </div>
                            </div>
                            <div class="col-sm-6">
                              <div class="form-group">
                                <label class="col-form-label"
                                  >Net Due
                                  <span class="text-danger">*</span></label
                                >
                                <p-dropdown
                                  [options]="creditDaysOptions"
                                  name="netDue"
                                  [(ngModel)]="project.creditDays"
                                  required
                                  [filter]="true"
                                  placeholder="Select Net Due"
                                ></p-dropdown>
                              </div>
                            </div>
                            <div class="col-sm-6">
                              <div class="form-group">
                                <label class="col-form-label"
                                  >Timesheet Notification Config
                                  <span class="text-danger">*</span></label
                                >
                                <div>
                                  <div class="form-check form-check-inline">
                                    <input
                                      class="form-check-input"
                                      type="radio"
                                      name="timesheetNotificationConfig"
                                      value="1"
                                      checked
                                      [(ngModel)]="
                                        project.timesheetNotificationConfig
                                      "
                                      required
                                    />
                                    <label
                                      class="form-check-label"
                                      for="timesheetNotificationConfig"
                                      >By Authorization Code</label
                                    >
                                  </div>
                                  <div class="form-check form-check-inline">
                                    <input
                                      class="form-check-input"
                                      type="radio"
                                      name="timesheetNotificationConfig"
                                      value="2"
                                      [(ngModel)]="
                                        project.timesheetNotificationConfig
                                      "
                                    />
                                    <label
                                      class="form-check-label"
                                      for="timesheetNotificationConfig"
                                      >By email reply</label
                                    >
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </section>
              </form>
              <section *ngIf="!+project.inHouse">
                <div class="row">
                  <div class="col-sm-12">
                    <div class="card">
                      <div class="card-header">
                        <div class="row">
                          <div class="col-sm-12">
                            <h5 class="modal-title">
                              Project - Customer Mapping
                            </h5>
                          </div>
                        </div>
                      </div>
                      <section>
                        <div class="card-body pb-0">
                          <div class="row">
                            <div class="col-sm-5">
                              <div class="form-group">
                                <label class="col-form-label">
                                  {{
                                    getAstnType(
                                      customerMapping.associationType
                                    ) != "SELF"
                                      ? getAstnType(
                                          customerMapping.associationType
                                        )
                                      : "Customer"
                                  }}
                                  <span class="text-danger">*</span></label
                                >
                                <p-dropdown
                                  name="company"
                                  [options]="currentCompanyList"
                                  placeholder="Select"
                                  [(ngModel)]="customerMapping.companyDetailsId"
                                  required
                                  [filter]="true"
                                >
                                </p-dropdown>
                              </div>
                            </div>
                            <div class="col-sm-5">
                              <div class="form-group">
                                <label class="col-form-label"
                                  >Association Type
                                  <span class="text-danger">*</span></label
                                >
                                <div>
                                  <div class="form-check form-check-inline">
                                    <input
                                      class="form-check-input"
                                      type="radio"
                                      name="associationType"
                                      value="1"
                                      [(ngModel)]="
                                        customerMapping.associationType
                                      "
                                      required
                                    />
                                    <label
                                      class="form-check-label"
                                      for="associationType"
                                      >Client</label
                                    >
                                  </div>
                                  <div class="form-check form-check-inline">
                                    <input
                                      class="form-check-input"
                                      type="radio"
                                      name="associationType"
                                      value="2"
                                      [(ngModel)]="
                                        customerMapping.associationType
                                      "
                                    />
                                    <label
                                      class="form-check-label"
                                      for="associationType"
                                      >Vendor</label
                                    >
                                  </div>
                                  <div class="form-check form-check-inline">
                                    <input
                                      class="form-check-input"
                                      type="radio"
                                      name="associationType"
                                      value="3"
                                      [(ngModel)]="
                                        customerMapping.associationType
                                      "
                                    />
                                    <label
                                      class="form-check-label"
                                      for="associationType"
                                      >Implementation Partner</label
                                    >
                                  </div>
                                </div>
                              </div>
                            </div>

                            <div class="col-sm-2">
                              <ng-container *ngIf="showAddButton">
                                <div class="form-group">
                                  <label
                                    class="col-form-label"
                                    style="color: transparent"
                                    ><i class="fa fa-plus"></i>&nbsp;Add</label
                                  >
                                  <button
                                    class="btn add-btn"
                                    (click)="addCustomerMapping()"
                                  >
                                    <i class="fa fa-plus"></i>&nbsp;Add
                                  </button>
                                  <p
                                    style="
                                      color: red;
                                      float: right;
                                      margin: 10px 15px;
                                    "
                                  >
                                    {{ addErrLabel }}
                                  </p>
                                </div>
                              </ng-container>
                            </div>
                          </div>
                        </div>
                      </section>
                      <hr />
                      <section class="pb-3">
                        <p-pickList
                          [source]="sourceCustomerMapping"
                          sourceHeader="Project- Customer Mapping"
                          [dragdrop]="true"
                          [responsive]="true"
                          [sourceStyle]="{ height: '20rem' }"
                          filterBy="name"
                          [showTargetControls]="false"
                          [showSourceFilter]="false"
                        >
                          <ng-template
                            let-projectCompanyMapping
                            pTemplate="item"
                          >
                            <div class="product-item">
                              <div class="image-container">
                                <img
                                  src="assets/img/company-icon.png"
                                  alt="company"
                                  class="company"
                                />
                              </div>
                              <div class="product-list-detail">
                                <h4 class="p-mb-2">
                                  {{
                                    getPredessor(
                                      projectCompanyMapping.companyDetailsId
                                    )
                                  }}
                                </h4>
                                <div>
                                  <span class="product-category"
                                    ><i
                                      class="
                                        fa fa-tag
                                        product-category-icon
                                        mr-1
                                      "
                                    >
                                    </i
                                    >{{
                                      getAstnType(
                                        projectCompanyMapping.associationType
                                      )
                                    }}</span
                                  >
                                </div>
                              </div>
                              <div
                                class="product-list-action"
                                *ngIf="
                                  projectCompanyMapping.associationType != 4
                                "
                              >
                                <a
                                  href="javascript:void(0)"
                                  (click)="
                                    deleteCustomerMapping(
                                      projectCompanyMapping,
                                      'projectMapping'
                                    )
                                  "
                                  class="edit-icon"
                                >
                                  <i class="fa fa-times" aria-hidden="true"></i
                                ></a>
                              </div>
                            </div>
                          </ng-template>
                        </p-pickList>
                      </section>
                    </div>
                  </div>
                </div>
              </section>
              <section>
                <div class="row">
                  <div class="col-sm-12">
                    <div class="submit-section m-0">
                      <button
                        type="button"
                        class="btn btn-success"
                        (click)="save()"
                        [disabled]="!f.valid"
                      >
                        <i class="fa fa-save"></i>&nbsp;Update
                      </button>
                      <a
                        href="javascript:void(0)"
                        [routerLink]="['/admin/projects/project/view']"
                        [state]="{ projectDetailsId: projectDetailsId }"
                        class="btn btn-danger ml-2"
                        ><i class="fa fa-times"></i>&nbsp;Cancel</a
                      >
                    </div>
                  </div>
                </div>
              </section>
            </div>
          </ng-template>
        </p-tabPanel>
        <p-tabPanel header="Approvers" leftIcon="fa fa-check-square-o">
          <div class="pt-2">
            <ng-container *ngIf="tabIndex == 1">
              <app-assign-approver
                [projectDetailsId]="projectDetailsId"
              ></app-assign-approver>
            </ng-container>
          </div>
        </p-tabPanel>
        <p-tabPanel header="Resources" leftIcon="fa fa-user-plus">
          <ng-container *ngIf="tabIndex == 2">
            <app-assign-resource
              [projectDetailsId]="projectDetailsId"
            ></app-assign-resource>
          </ng-container>
        </p-tabPanel>
        <p-tabPanel header="Comments" leftIcon="fa fa-comments">
          <div class="comments">
            <div class="chat-main-row">
              <!-- Chat Main Wrapper -->
              <div class="chat-main-wrapper">
                <!-- Chats View -->
                <div class="col-lg-12 message-view task-view">
                  <div class="chat-window">
                    <div class="chat-contents">
                      <div class="chat-content-wrap">
                        <div class="chat-wrap-inner">
                          <div class="chat-box">
                            <div class="chats">
                              <ng-container *ngFor="let comment of commentList">
                                <div class="chat chat-left mb-2">
                                  <div class="chat-body">
                                    <div class="chat-bubble">
                                      <div class="chat-content">
                                        <p>
                                          <strong
                                            >{{ comment.employeeName }}.
                                            <span
                                              style="
                                                font-size: 12px;
                                                font-weight: 400;
                                              "
                                              >{{
                                                comment.commentDateTime
                                              }}</span
                                            >
                                          </strong>
                                          <!-- <strong
                                            style="
                                              float: right;
                                              font-weight: 400;
                                              font-size: 12px;
                                            "
                                            ><i
                                              class="fa fa-dot-circle-o text-info mr-1"
                                            ></i
                                            >{{
                                              comment.commentType == "1"
                                                ? "Private"
                                                : "Customer"
                                            }}</strong
                                          > -->
                                        </p>

                                        <p>
                                          {{ comment.comment }}
                                        </p>
                                      </div>
                                      <div class="chat-action-btns">
                                        <ul class="m-0">
                                          <li>
                                            <a
                                              href="javascript:void(0)"
                                              class="edit-msg"
                                              (click)="editComment(comment)"
                                              ><i class="fa fa-pencil"></i
                                            ></a>
                                          </li>
                                          <li>
                                            <a
                                              href="javascript:void(0)"
                                              class="del-msg"
                                              data-toggle="modal"
                                              data-target="#confirmModel"
                                              (click)="deleteComment(comment)"
                                              ><i class="fa fa-trash-o"></i
                                            ></a>
                                          </li>
                                        </ul>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </ng-container>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <form
                      (ngSubmit)="saveComment(commentDetails)"
                      (keydown)="EnterSubmit($event, commentDetails)"
                    >
                      <div class="chat-footer pt-2 pb-0">
                        <div class="message-bar">
                          <div class="message-inner">
                            <div class="message-area">
                              <div class="d-flex">
                                <div
                                  class="d-flex align-items-center"
                                  style="width: 20%; display: none !important"
                                >
                                  <p-selectButton
                                    [options]="messageType"
                                    [(ngModel)]="commentDetails.commentType"
                                    name="messageType"
                                  ></p-selectButton>
                                </div>
                                <div class="input-group">
                                  <textarea
                                    class="form-control"
                                    placeholder="Type message..."
                                    [(ngModel)]="commentDetails.comment"
                                    pattern="[a-zA-Z ]{1,150}"
                                    (keypress)="
                                      sharedService.keyPressAddress($event)
                                    "
                                    name="message"
                                  ></textarea>
                                  <span class="input-group-append">
                                    <button
                                      class="btn btn-custom"
                                      type="submit"
                                    >
                                      <i class="fa fa-send"></i>
                                    </button>
                                  </span>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </form>
                  </div>
                </div>
                <!-- /Chats View -->
              </div>
              <!-- /Chat Main Wrapper -->
            </div>
          </div>
        </p-tabPanel>
        <!-- <p-tabPanel header="Invoices" leftIcon="fa fa-briefcase">
          Invoices
        </p-tabPanel> -->
        <p-tabPanel header="Documents" leftIcon="fa fa-files-o">
          <div class="pt-2">
            <div class="clearfix">
              <a
                href="javascript:void(0)"
                class="btn add-btn"
                (click)="uploadDocCatg()"
                ><i class="fa fa-upload"></i> Upload Document</a
              >
            </div>
            <div class="col pl-0 pr-0 mt-2" *ngIf="!loading">
              <p-table
                [columns]="projectDocCols"
                [value]="documentList"
                [rowsPerPageOptions]="[5, 10, 25, 50]"
                styleClass="ui-table-customers"
                #dt
                [paginator]="true"
                [rows]="5"
                [showCurrentPageReport]="true"
                [alwaysShowPaginator]="false"
                currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                [filterDelay]="0"
                [globalFilterFields]="[]"
              >
                <ng-template pTemplate="header" let-columns>
                  <tr>
                    <th
                      *ngFor="let col of columns"
                      [pSortableColumn]="col.field"
                    >
                      {{ col.header }}
                      <p-sortIcon [field]="col.field"></p-sortIcon>
                    </th>
                    <th class="actions">Actions</th>
                  </tr>
                </ng-template>
                <ng-template pTemplate="body" let-rowData let-columns="columns">
                  <tr [pSelectableRow]="rowData">
                    <td
                      *ngFor="let col of columns"
                      [attr.ng-reflect-field]="col.field"
                    >
                      <ng-container *ngIf="col.field == 'documentTitle'">
                        <a
                          href="javascript:void(0)"
                          (click)="onImageViewOpenClick(rowData)"
                        >
                          {{ rowData[col.field] }}</a
                        >
                      </ng-container>
                      <ng-container *ngIf="col.field == 'alertRequired'"
                        >{{ +rowData[col.field] ? "Yes" : "No" }}
                      </ng-container>
                      <ng-container *ngIf="col.field == 'alertBeforeNoOfDays'">
                        <ng-container *ngIf="+rowData.alertRequired">
                          {{ rowData[col.field] }}
                        </ng-container>
                      </ng-container>
                      <ng-container *ngIf="col.field == 'sharedWithOthers'">
                        <ng-container *ngIf="!rowData[col.field]">
                          <i class="fa fa-dot-circle-o"></i>
                          {{ rowData[col.field] }}
                        </ng-container>
                        <ng-container *ngIf="rowData[col.field]">
                          <a
                            href="javascript:void(0)"
                            data-toggle="modal"
                            class="is-shared"
                            (click)="taggedDocumentModel(rowData)"
                            ><i class="fa fa-dot-circle-o"></i>
                            {{ rowData[col.field] }}
                          </a>
                        </ng-container>
                      </ng-container>
                      <ng-container
                        *ngIf="
                          col.field != 'alertRequired' &&
                          col.field != 'alertBeforeNoOfDays' &&
                          col.field != 'sharedWithOthers' &&
                          col.field != 'documentTitle'
                        "
                      >
                        {{ rowData[col.field] }}
                      </ng-container>
                    </td>
                    <td class="actions">
                      <div class="d-flex justify-content-center">
                        <a
                          href="javascript:void(0)"
                          data-toggle="modal"
                          (click)="fileToDownload(rowData)"
                          ><i class="fa fa-download m-r-5"></i>
                        </a>
                        <a
                          href="javascript:void(0)"
                          data-toggle="modal"
                          (click)="editUploadDoc(rowData)"
                          ><i class="fa fa-pencil-square-o m-r-5"></i>
                        </a>
                        <a
                          href="javascript:void(0)"
                          class="text-danger"
                          data-toggle="modal"
                          (click)="fileToDelete(rowData, 'document')"
                          ><i class="fa fa-trash-o m-r-5"></i>
                        </a>
                      </div>
                    </td>
                  </tr>
                </ng-template>
                <ng-template pTemplate="emptymessage">
                  <tr>
                    <td
                      [attr.colspan]="projectDocCols.length"
                      style="text-align: center"
                    >
                      No Records Found.
                    </td>
                  </tr>
                </ng-template>
              </p-table>
            </div>
          </div>
        </p-tabPanel>
      </p-tabView>
    </div>
  </div>
  <!-- /Page Content -->
</div>
<!-- Upload File Modal -->
<div
  id="uploadFile_info"
  [ngStyle]="{ display: uploadFileInfo }"
  class="modal custom-modal backdrop"
  role="dialog"
>
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <form (ngSubmit)="saveUploadFile(fileUpload)" #f="ngForm">
        <div class="modal-header">
          <h5 class="modal-title">Upload Document</h5>
          <button
            type="button"
            class="close"
            (click)="closeAddmodal(f)"
            data-dismiss="modal"
            aria-label="Close"
          >
            <span aria-hidden="true">×</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="card m-0">
            <div class="card-body pt-0">
              <div class="row" *ngIf="errorLabel">
                <div class="col-sm-12" style="color: red">
                  {{ errorLabel }}
                </div>
              </div>
              <div class="row">
                <div class="col-sm-12">
                  <div class="form-group">
                    <label class="col-form-label"
                      >Document Title <span class="text-danger">*</span></label
                    >
                    <input
                      class="form-control"
                      name="documentTitle"
                      [(ngModel)]="fileUpload.documentTitle"
                      type="text"
                      required
                      pattern="[a-zA-Z ]{1,150}"
                      (keypress)="sharedService.keyPressAlphabet($event)"
                    />
                  </div>
                </div>
                <div class="col-sm-6">
                  <div class="form-group">
                    <label class="col-form-label">Document Number </label>
                    <input
                      class="form-control"
                      name="documentNumber"
                      [(ngModel)]="fileUpload.documentNumber"
                      type="text"
                      (keypress)="sharedService.keyPressAlphaNumaric($event)"
                    />
                  </div>
                </div>
                <div class="col-sm-6" *ngIf="!fileUpload.checked">
                  <div class="form-group">
                    <label class="col-form-label">Document Expiry Date </label>
                    <p-calendar
                      name="documentExpiryDate"
                      [(ngModel)]="fileUpload.documentExpiryDate"
                      showIcon="true"
                      dateFormat="mm-dd-yy"
                      dataType="string"
                    ></p-calendar>
                  </div>
                </div>
                <div class="col-sm-6" *ngIf="fileUpload.checked">
                  <div class="form-group">
                    <label class="col-form-label"
                      >Document Expiry Date<span class="text-danger">
                        *</span
                      ></label
                    >
                    <p-calendar
                      name="documentExpiryDate"
                      [(ngModel)]="fileUpload.documentExpiryDate"
                      showIcon="true"
                      dateFormat="mm-dd-yy"
                      dataType="string"
                      required="true"
                    ></p-calendar>
                  </div>
                </div>
                <div class="col-sm-12">
                  <div class="form-group">
                    <label class="col-form-label"
                      >File To Upload
                      <span class="text-danger" *ngIf="!fileUploadEdit"
                        >*</span
                      ></label
                    >
                    <div class="d-flex align-items-center">
                      <input
                        (change)="onFileChange($event)"
                        name="fileToUpload"
                        class="form-control"
                        type="file"
                        required
                        #fileInput
                      />
                      <div *ngIf="fileUpload.fileToUpload">
                        <a
                          class="btn btn-danger btn-clear-file"
                          href="javascript:void(0)"
                          aria-label="Remove"
                          (click)="clearFile()"
                        >
                          <i class="fa fa-times" aria-hidden="true"></i>
                        </a>
                      </div>
                    </div>
                  </div>
                </div>
                <div
                  [ngClass]="{
                    'col-sm-4': fileUpload.checked == true,
                    'col-sm-12': fileUpload.checked == false
                  }"
                >
                  <div class="form-group">
                    <label class="col-form-label">Alert Required</label>
                    <div>
                      <p-inputSwitch
                        name="alertRequired"
                        [(ngModel)]="fileUpload.checked"
                      ></p-inputSwitch>
                    </div>
                  </div>
                </div>
                <div class="col-sm-8" *ngIf="fileUpload.checked">
                  <div class="form-group">
                    <label class="col-form-label"
                      >Alert Before No Of Days
                      <span class="text-danger">*</span></label
                    >
                    <p-dropdown
                      name="alertBeforeNoOfDays"
                      [options]="noOfAlertsList"
                      [(ngModel)]="fileUpload.alertBeforeNoOfDays"
                      required
                      [filter]="true"
                    ></p-dropdown>
                  </div>
                </div>
                <div
                  class="col-sm-12"
                  *ngIf="supplierOfProjectList && supplierOfProjectList.length"
                >
                  <div class="form-group">
                    <label class="col-form-label"
                      >Tag Customer
                      <span class="tag-note"
                        >This document will be linked to customer section</span
                      >
                    </label>
                    <div>
                      <p-multiSelect
                        name="taggedProjects"
                        [options]="supplierOfProjectList"
                        [showToggleAll]="false"
                        [(ngModel)]="selectedSupplierOfProjectList"
                        [virtualScroll]="true"
                        optionLabel=""
                        optionValue=""
                        [filter]="true"
                        [itemSize]="34"
                        optionLabel="companyName"
                        optionValue="companyCode"
                        class="multiselect-custom-virtual-scroll"
                        (onChange)="hadleTaggedSupplier($event)"
                      >
                      </p-multiSelect>
                    </div>
                  </div>
                </div>
                <div
                  class="col-sm-12"
                  *ngIf="
                    selectedSupplierOfProjectList &&
                    selectedSupplierOfProjectList.length &&
                    employeesOfProjectList &&
                    employeesOfProjectList.length
                  "
                >
                  <div class="form-group">
                    <label class="col-form-label"
                      >Tag Employees
                      <span class="tag-note"
                        >This Document will be shared to the below
                        Employee(s)</span
                      ></label
                    >
                    <p-multiSelect
                      name="taggedEmployees"
                      [options]="employeesOfProjectList"
                      [showToggleAll]="false"
                      [(ngModel)]="selectedEmployeesOfProjectList"
                      [virtualScroll]="true"
                      [filter]="true"
                      [itemSize]="34"
                      optionLabel="employeeName"
                      optionValue="employeeCode"
                      class="multiselect-custom-virtual-scroll"
                      required="true"
                    >
                    </p-multiSelect>
                  </div>
                </div>
              </div>

              <div class="submit-section">
                <button
                  *ngIf="fileUploadEdit"
                  type="submit"
                  class="btn btn-info"
                  [disabled]="!f.valid"
                >
                  <i class="fa fa-upload"></i>&nbsp;Update
                </button>
                <button
                  *ngIf="!fileUploadEdit"
                  type="submit"
                  class="btn btn-success"
                  [disabled]="!f.valid || !fileUpload.fileToUpload"
                >
                  <i class="fa fa-upload"></i>&nbsp;Upload
                </button>
                <button
                  type="button"
                  class="btn btn-danger ml-2"
                  (click)="closeAddmodal(f)"
                >
                  <i class="fa fa-times"></i>&nbsp;Cancel
                </button>
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
<!-- /Upload file Modal -->
<!-- Tagged Documents Modal -->
<div
  id="uploadFile_info"
  [ngStyle]="{ display: taggedModelInfo }"
  class="modal custom-modal backdrop"
  role="dialog"
  *ngIf="taggedModelInfo == 'block'"
>
  <div class="modal-dialog modal-dialog-centered modal-xl" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Tagged Details</h5>
        <button
          type="button"
          class="close"
          (click)="closeAddmodal()"
          data-dismiss="modal"
          aria-label="Close"
        >
          <span aria-hidden="true">×</span>
        </button>
      </div>
      <div class="modal-body">
        <app-tagged-or-shared-documents
          [projectDocumentDetailsId]="selectedProjectDocumentDetailsId"
        ></app-tagged-or-shared-documents>
      </div>
    </div>
  </div>
</div>
<!-- /Tagged Documents Modal -->
<!-- confirm model-->
<div
  class="modal custom-modal fade"
  id="confirmModel"
  role="dialog"
  aria-modal="true"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-body">
        <div class="form-header">
          <h3>Confirm</h3>
          <p>Are you sure ? Do you want to Delete ?</p>
        </div>
        <div class="modal-btn">
          <div class="row">
            <div class="col-6 d-flex justify-content-end">
              <a
                href="javascript:void(0);"
                data-dismiss="modal"
                (click)="confirm(confirmType)"
                class="btn btn-danger"
                ><i class="fa fa-trash-o"></i>&nbsp;Confirm</a
              >
            </div>
            <div class="col-6 d-flex justify-content-start">
              <a
                href="javascript:void(0);"
                data-dismiss="modal"
                class="btn btn-danger"
                ><i class="fa fa-times"></i>&nbsp;Cancel</a
              >
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- /confirm model-->
<!-- Image view file Modal -->
<ng-container *ngIf="viewImage">
  <app-imageviwer
    [imageBlob]="imageBlob"
    (onClose)="onImageViewCloseClick($event)"
  >
  </app-imageviwer>
</ng-container>

<!-- /Image view file Modal -->

<!-- confirm model-->
<div
  id="delete_info"
  [ngStyle]="{ display: deleteModelInfo }"
  class="modal custom-modal backdrop"
  role="dialog"
  *ngIf="deleteModelInfo == 'block'"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-body">
        <div class="form-header">
          <h3>Confirm</h3>
          <p
            *ngIf="deleteRowData?.projectCompanyMappingDetailsId"
            class="text-danger"
          >
            Once you confirm you no longer to get this data back !
          </p>
          <p>Are you sure ? Do you want to Delete ?</p>
        </div>
        <div class="modal-btn">
          <div class="row">
            <div class="col-6 d-flex justify-content-end">
              <a
                href="javascript:void(0);"
                data-dismiss="modal"
                (click)="confirm(confirmType)"
                class="btn btn-success"
                ><i class="fa fa-trash-o"></i>&nbsp;Confirm</a
              >
            </div>
            <div class="col-6 d-flex justify-content-start">
              <a
                href="javascript:void(0);"
                data-dismiss="modal"
                (click)="cancelConfirm()"
                class="btn btn-danger"
                ><i class="fa fa-times"></i>&nbsp;Cancel</a
              >
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- /confirm model-->
